<template name="teams">
  <div class="container">
    {{#if session "meteor_loggedin"}}
      <div class="add-form">
        <form id="form" class="form-inline">
          {{ #if myTeam }}
            <h2 class="my-team"><span style="color: #dddddd">You are a member of </span>{{myTeam.name}}</h2>
          {{ else }}
            <h1>Geckothon Teams</h1>
            <input placeholder="Enter a team name..." type="text" name="team_name" class="form-control input-lg idea-input" />
            <button class="btn btn-lg btn-default" type="submit">Submit</button>
          {{ /if }}
        </form>
      </div>
    {{ /if }}
    {{#if session "meteor_loggedin"}}
      <div id="ballot">
        <h3>All teams</h3>
        <ul class="nominees teams">
        {{ #each teams }}
          <li class="team">
            <p class="team-name">
              <h4><strong>{{ this.name }}</strong>
                {{ #if isOwner }}
                  <a class="btn btn-info btn-xs left-margin"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                {{ /if }}
              </h4>
              <p>
                <input type="text" class="name hide form-control" placeholder="Enter a name...">
              </p>
              <span>by </span>
              <span class="owner-info">
                {{ ownerInfo }}
                {{ #if isAdmin }}
                  <a class="btn btn-info btn-xs left-margin"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                {{ /if }}
              </span>
              <input type="text" class="owner-input hide form-control">
            </p>
            <p class="team-description">
              <p>
                {{ #if this.description }}
                  {{ this.description }}
                {{ else }}
                  {{ #if isOwner }}
                    <em>What are you making for the hackathon?</em>
                  {{ /if }}
                {{ /if }}
                {{ #if isOwner }} &nbsp;
                  <a class="btn btn-info btn-xs left-margin"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span></a>
                {{ /if }}
              </p>
              <textarea class="description hide form-control" placeholder="Enter a description..." rows=2 cols=50></textarea>
            </p>
            <div class="info">
              {{#if session "meteor_loggedin"}}
                <div class="actions">
                  <button class="down vote-button" type="button" data-tooltip="Leave"><i class="fa fa-ban"></i></button>
                  <button class="up vote-button" type="button" data-tooltip="Join"><i class="fa fa-sign-in"></i></button>
                  {{ #if isOwner }}
                    <button class="down delete" type="button"><i class="fa fa-trash-o"></i></button>
                  {{ /if }}
                </div>
              {{ /if }}
            </div>
            {{#if session "meteor_loggedin"}}
              <div class="uservotes">
                {{ teamMembers }}
              </div>
            {{ /if }}
          </li>
          {{ else }}
            <div class="alert alert-warning" role="alert"><strong>No teams</strong> added yet. Add a new team to the list to get started.</div>
          {{ /each }}
        </ul>
      </div>
      {{else}}
        <div class="alert alert-info" role="alert"><strong>Please login</strong> with your TradeGecko Google account to proceed.</div>
      {{ /if }}
  </div>
</template>
